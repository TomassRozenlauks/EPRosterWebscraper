# EliteProspects Roster Webscraper
Programmu izveidoja DITEF 1. kursa 13. grupas students Tomass Kristers Ignatjevs-Rozenlauks

Viena no problēmām, ar kurām saskaros apstrādājot Latvijas junioru hokeja izlašu sastāvus & sekojot to kandidātiem, ir spēlētāju salīdzināšana dažādu gadu gājumos. Viens no ievērojamākajiem faktoriem, ar kuriem var noteikt spēlētāja attīstību gada laikā, ir spēlētāja rezultativitātes izmaiņa. Piemēram, kādam spēlētājam rezultativitāte 1 piespēle 2023. gada U20 PČ, bet 3 vārti un 3 piespēles 2024. gada U20 PČ, norāda uz strauju attīstību. Tomēr vadošā hokeja datubāze - EliteProspects - pati nepiedāvā iespēju vispār redzēt, kuri spēlētāji gadu no gada ir palikuši komandas sastāvā - tas ir jādara manuāli, un manuāli salīdzināt, piemēram 20 uzbrucējus no vienas sezonas uz nākamo, var būt diez gan laikietilpīgs process. Tieši šīs problēmas atrisināšanai ir radīta šī programma.
Programmas pamatprincips ir:
- Ievadīt abas komandas un gadu, kuru salīdzināt.
- Programma automātiski izvada visus spēlētājus, kuri ir sastāvā abām šīm komandām, kā arī viņu pozīcijas.
- Programma automātiski saskaita vārtsargu, aizsargu, uzbrucēju skaitu - EliteProspects atsevišķos gadījumos (piem., spēlētājs ar komandu lauzis līgumu sezonas gaitā) neuzskaita pilno komandas spēlētāju skaitu sezonas gaitā, taču šī programma gan to izdara.
- Programma automātiski salīdzina abu komandu sastāvus, un izvada tos spēlētājus, kuri ir abu komandu sastāvā.

Detalizētāk:
Programmai ir vajadzīgas divas ievadītas adreses no EliteProspects datubāzes mājaslapas. (Nākotnes versijai ir plāns arī iekļaut meklēšanu, t.i., ievadīt komandas nosaukumu un gadu, un būtu iespējams, neatverot EliteProspects tīmekļa vietni, iegūt šo adresi.) Pēc tam ar requests tiek sūtīts HTTP pieprasījums mainīgajam adrese, kas atbilst 1. komandas sastāva adresei. 
Jā status kods ir 200 jeb viss kārtībā, tad, izmantojot BeautifulSoup bibliotēku, izmanto HTML parseri Python, lai spētu viegli darboties ar un apstrādāt HTML. Tad izmanto mainīgo atradu_Player, kurš meklē klasi "Roster_player_e6EbP". Šī klase atzīmē tās mājaslapas daļas, kuras norāda spēlētāju informāciju komandas sastāvā. Visas šīs daļas tiek saglabātas mainīgajā "atradu_Player". Pēc tam izmanto ciklu - par katru spēlētāju iekš atradu_Player mainīgā meklē klasi "TextLink_link_RhSiC". Ja to atrod, tad palielina spēlētāju skaitu, kā arī iegūst pilno tekstu kas saglabāts TextLink_link_RhSic klasē, t.i., spēlētāja vārdu un pozīciju. Izmantojot get_text, iegūst šo informāciju, pēc tam to apstrādā. Tā kā pozīcija tiek apzīmēta, piem., (D), (G), (F), (LW) utt., ir viegli atdalīt spēlētāja vārdu un pozīciju, izmantojot "split" funkciju ar argumentu "(", jeb atrodot "(" un tajā vietā sadalot klases tekstu, pirmais elements ir spēlētāja vārds, un otrais elements ir spēlētāja pozīcija. Tā kā spēlētāja pozīciju nav pieņemts pierakstīt iekavās, ar strip funkciju no pozīcijas izdzēš arī ). Pēc tam pārbauda, vai pozīcijas pirmais burts ir G (-> +1 vārtsargs), D (-> +1 aizsargs) vai cits (-> +1 uzbrucējs). Iemesls, kāpēc pārbauda TIKAI pirmo burtu, ir, piemēram, aizsargs Dominik Matonak, kurš ir norādīts kā D/F, jo karjeras sākumā spēlējis kā uzbrucējs, lai gan tagad ir pamatā aizsargs.  
Visu to atkārto arī ar otro adresi, kas atbilst 2. komandas sastāvam. Pēc tam ar cilpu iekš cilpas pārbauda, vai kāds pirmās komandas spēlētājs ir tieši vienāds ar otrās komandas spēlētāju. Gadījumā, ja tas ir patiess, tad šis spēlētājs tiek izvadīts. 
Galu galā tiek izvadīti abi sastāvi, abu sastāvu spēlētāju skaiti (arī pa pozīcijām), kā arī pilnīgi visi spēlētāji, kuri spēlējuši abās komandās.
